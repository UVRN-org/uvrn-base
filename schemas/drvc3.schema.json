{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://uvrn.org/schemas/drvc3.v1.json",
  "title": "DRVC3 Receipt v1.0",
  "type": "object",
  "required": ["receipt_id","issuer","event","timestamp","integrity","block_state","certificate"],
  "properties": {
    "receipt_id": {"type":"string"},
    "issuer": {"type":"string"},
    "event": {"type":"string"},
    "timestamp": {"type":"string","format":"date-time"},
    "description": {"type":"string"},
    "resource": {
      "type":"object",
      "properties": {
        "type":{"type":"string"},
        "url":{"type":"string"},
        "branch":{"type":"string"},
        "commit_hash":{"type":"string"}
      }
    },
    "integrity": {
      "type":"object",
      "required":["hash_algorithm","hash","signature_method","signature","signer_address"],
      "properties": {
        "hash_algorithm":{"enum":["sha256"]},
        "hash":{"type":"string"},
        "signature_method":{"enum":["eip191"]},
        "signature":{"type":"string"},
        "signer_address":{"type":"string"}
      }
    },
    "validation": {
      "type":"object",
      "properties": {
        "v_score":{"type":"number"},
        "checks":{"type":"object"}
      }
    },
    "block_state":{"enum":["loose","blocked"]},
    "certificate":{"type":"string"},
    "replay_instructions":{"type":"object"},
    "tags":{"type":"array","items":{"type":"string"}}
  }
}
